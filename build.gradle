subprojects {
    
    apply plugin: 'java'
    apply plugin: 'maven-publish'

    tasks.withType(JavaCompile) {
        options.incremental = true
    }

    compileJava {
        options.compilerArgs << "-Xlint:unchecked" << "-Xlint:deprecation" << "-Xlint:deprecation"
    }
    
    sourceCompatibility = "${java_lang_level}"
    targetCompatibility = "${java_lang_level}"

    
    repositories {
        mavenCentral()
        mavenLocal()
    }

}

//Publishing
task publishUtils {
    dependsOn ":gwt-utils:publishToMavenLocal"
}

task  publishStripe {
    dependsOn ":gwt-stripe:publishToMavenLocal"
}

task  publishJwt {
    dependsOn ":gwt-jwt:publishToMavenLocal"
}

task  publishUikit {
    dependsOn ":gwt-uikit:publishToMavenLocal"
}

publishStripe.mustRunAfter  publishUtils

task  publishToMavenLocal {
    dependsOn  publishUtils,  publishStripe,  publishJwt,  publishUikit
}